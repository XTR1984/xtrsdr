
Trying to connect rtlsdr dongle and esp32s2  

Попытка подключить свисток rtlsdr к esp32s2
!["pic 1"](pictures/pic1.jpg?raw=true )

Зачем?
- просто так, по приколу, попутно погружаясь в глубины глубин разработки под esp32

Что получилось:
- Адаптирована librtlsdr под библиотеку esp32 usb host
- Опрашивается и конфигурируется RTLSDR v3 (Чипы RTL2832U + R820T2) 
- Переписан rtl_tcp для вещания с esp32s2 по Wifi с samplerate 240000  (wifi через роутер)
- Подключение GQRX и SDRSharp к rtl_tcp, успешно демодулируется iq-поток


Не получилось:
- добиться стабильности потока через wifi на расстоянии
- Подключиться cо смартфона, приложения c поддержкой rtl_tcp  либо падают, либо воспроизводят мусор

Возможное развитие
- Попытка демодулировать что-нибудь прямо на esp32s2  и послать на i2s усилитель. (rtl_fm)
- Подключить сетевой модуль w5500 и вещать через него

Примечания
- поддержка USB и USB host имеется не во всех esp32 модулях
- подключение через usb hub не поддерживается
- usb запускается только на скорости 12Mbit, то есть Full-speed режим, значит возможный samplerate ограничен
- требуется как минимум модуль esp32-s2FN4R2 с  2мбайт PSRAM
- максимальная скорость передачи потока после перехода на espidf и настройки буферов tcp и wifi порядка 6-10Mbit
- модули esp32s2 могут быть с дефектом, когда сами себя вырубают своим сигналом Wifi
- прочие баги имеются


